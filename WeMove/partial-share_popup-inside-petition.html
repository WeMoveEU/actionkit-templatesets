<script>
  const loadPopupScript = () => {
    document.removeEventListener("wm-scriptsLoaded", loadPopupScript);

  };

  const renderPopup = () =>{
    wemove.triggerEvent("wm-openDialog", {
      querySelector: "data-wm-share-popup",
    });
  };

  const redirectToSharePage = () =>{};

  document.addEventListener("wm-scriptsLoaded", loadPopupScript);
  document.addEventListener("wm-closeDialog", redirectToSharePage);
</script>

<div data-wm-share-content data-wm-share-popup hidden>
  <div class="mx-auto md:max-w-[500px] text-wm-purple">
    <h3 class="text-3xl mb-2">
      {% filter ak_text:"sharePopup_title" %}Share this petition{% endfilter %}
    </h3>

    {% if page.custom_fields.featured_image or page.followup.share_image_value %}
        <img
          class="mb-3"
          width="100%"
          height="100%"
          alt="{{ page.followup.share_title_value }}"
          src="{{ page.custom_fields.featured_image|default:page.followup.share_image_value }}" />
    {% endif %}

    <div class="[&_div]:border-0 [&_div]:mb-3 [&_div]:p-0">
      {% include "./component-share_button_whatsapp.html" %}
      {% include "./component-share_button_facebook.html" %}
      {% include "./component-share_button_bluesky.html" %}
      {% include "./component-share_button_instagram.html" %}
      {% include "./component-share_button_taf.html" %}
      {% include "./component-share_button_copy_url.html" %}
    </div>
  </div>
</div>