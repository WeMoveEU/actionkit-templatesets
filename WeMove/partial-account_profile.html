<section data-wm-tab-section="account" class="md:grid md:grid-cols-2 gap-4 xl:w-3/5 xl:mx-auto">
  <div
    data-wm-profile-card
    class="p-6 rounded-xl border-[1px] border-wm-pink text-wm-purple mb-8">
    <div class="flex justify-between items-center mb-4">
      <div class="flex items-center gap-1">
        <span aria-hidden="true" class="w-5 h-5 mr-1 inline-block not-sr-only" title="Print">
          {% include "./icon-user.html" %}
        </span>
        <span class="font-bold text-wm-purple font-gilroy text-lg">Personal data</span>
      </div>

      <button
        type="button"
        data-wm-open-dialog-cta="data-wm-edit-profile"
        class="bg-wm-pink rounded block py-0 px-3 !text-white hover:brightness-110 transition-all">
        edit
      </button>

      <div
        hidden
        data-wm-edit-profile
        data-wm-dialog-fetch="/me/update/">
      </div>
    </div>

    <ul>
      <li class="font-bold text-wm-purple mb-2">
        <span data-wm-profile-card-detail="first_name">{{ actionkit_user.first_name }}</span>
        <span data-wm-profile-card-detail="last_name">{{ actionkit_user.last_name }}</span>
      </li>
      <li class="font-bold text-wm-purple mb-2">
        <span data-wm-profile-card-detail="email">{{ actionkit_user.email }}</span>
      </li>
      <li class="mb-2">
        <span data-wm-profile-card-detail="postal">{{ actionkit_user.postal }}</span>
        <span data-wm-profile-card-detail="country">{{ actionkit_user.country }}</span>
      </li>
      <li><a href="/logout">log out</a></li>
    </ul>
  </div>

  <div
    data-wm-user-subscription-card
    class="p-6 rounded-xl border-[1px] border-wm-pink text-wm-purple mb-8">
    <div class="flex justify-between items-center mb-4">
      <div class="flex items-center gap-1">
        <span aria-hidden="true" class="w-5 h-5 mr-1 inline-block not-sr-only" title="Print">
          {% include "./icon-subscription.html" %}
        </span>
        <span class="font-bold text-wm-purple font-gilroy text-lg">Subscription history</span>
      </div>
    </div>

    <ul
      data-wm-user-subscribed
      {% if not actionkit_user.is_subscribed %}hidden{% endif %}
      class="text-wm-purple">
      <li class="mb-2">
        <strong>Status:</strong> subscribed
      </li>
      <li>
        <button
          type="button"
          data-wm-open-dialog-cta="data-wm-unsubscribe-user"
          class="text-wm-pink hover:underline">
          unsubscribe
        </button>

        <div
          hidden
          data-wm-unsubscribe-user>
          <form>
            <h2 class="text-wm-purple border-b-2 w-full">Opt out confirmation</h2>
            <p class="mb-6">Are you sure you want to request to opt out from all mailing lists?</p>

            <div class="grid grid-cols-2 gap-4 mt-4">
                <button
                    type="button"
                    class="bg-slate-500 rounded p-2 hover:brightness-110 text-white font-bold"
                    data-wm-close-dialog-cta>
                    Cancel
                </button>

                <button
                    type="submit"
                    class="rounded p-2 hover:brightness-110 text-white font-bold">
                    Yes, unsubscribe me
                </button>
            </div>
          </form>
        </div>
      </li>
    </ul>

    <ul
      data-wm-user-unsubscribed
      {% if actionkit_user.is_subscribed %}hidden{% endif %}
      class="text-wm-purple">
      <li class="mb-2">
        <strong>Status:</strong> unsubscribed
      </li>
      <li>
        <button
          type="button"
          data-wm-subscribe-user
          class="bg-wm-pink rounded block py-0 px-3 !text-white hover:brightness-110 transition-all">
          subscribe
        </button>
      </li>
    </ul>
  </div>
</section>